:root{
  --bg:#121317;
  --panel:#1b1f27;
  --panel-2:#222735;
  --text:#f3f4f6;
  --muted:#a9b0be;
  --accent:#8b5cf6;
  --outline:#2f3644;
  --me:#2a2f3a;
  --them:#1f2530;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background: var(--bg);
  color: var(--text);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

#chat-container{
  height:100%;
  display:grid;
  grid-template-rows: auto 1fr auto;
}

#topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:12px 14px;
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  border-bottom:1px solid var(--outline);
}

#back{
  color: var(--muted);
  text-decoration:none;
  padding:6px 10px;
  border:1px solid var(--outline);
  border-radius:8px;
}
#back:hover{ border-color: var(--accent); color:#fff; }

#room-info h1{
  font-size:16px; margin:0;
}
#room-id{
  color: var(--muted);
  font-size:12px;
}

#status{
  display:flex; align-items:center; gap:8px;
  font-size:13px; color: var(--muted);
}
.dot{
  width:10px; height:10px; border-radius:999px; background:#555;
}
.dot.online{ background:#22c55e; }
.dot.offline{ background:#ef4444; }
.dot.reconnecting{ background:#f59e0b; }

#messages{
  padding:16px 14px 8px;
  overflow:auto;
  background: #111318;
}

/* Message bubble */
.msg{
  margin:10px 8px;
  border-radius:12px;
  max-width: 82%;
  word-wrap: break-word;
  white-space: pre-wrap;
  background: var(--them);
  padding: 8px 10px 10px;
}
.msg.me   { background: var(--me); margin-left:auto; }
.msg.sys  { color:#a9b0be; background:transparent; text-align:center; padding:4px 0; }

.msg-head{
  display:flex;
  align-items:center;
  gap:8px;
  margin-bottom:4px;
  font-size: 13px;
}
.msg-avatar{
  display:inline-grid;
  place-items:center;
  width:24px; height:24px;
  border-radius:999px;
  background:#374151; /* overridden inline via JS color */
  color:#fff;
  font-weight:700;
  font-size:12px;
  box-shadow: 0 2px 6px rgba(0,0,0,.25);
}
.msg-name{
  color:#a9b0be;
  font-weight:600;
}
.msg-body{
  font-size:15px;
  line-height:1.35;
}

/* Composer */
#composer{
  display:flex; gap:8px;
  padding:12px;
  border-top: 1px solid var(--outline);
  background: var(--panel);
}
#composer input{
  flex:1;
  padding:12px 14px;
  border-radius:10px;
  border:1px solid var(--outline);
  background:#1a1f28;
  color:#fff;
  outline:none;
}
#composer input:focus{
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(139,92,246,.15);
}
#composer button{
  padding:12px 16px;
  border-radius:10px;
  border:1px solid transparent;
  background: linear-gradient(180deg, var(--accent), #6d28d9);
  color:#fff;
  font-weight:600;
  cursor:pointer;
}
#composer button:hover{
  filter: brightness(1.05);
}

/* Small screens */
@media (max-width: 640px){
  .msg{ max-width: 92%; }
}
